# Frontend æ–‡ä»¶å¤¹ç»“æ„åˆ†æ

## ğŸ“ ç›®å½•ç»“æ„æ¦‚è§ˆ

```
frontend/
â”œâ”€â”€ public/                 # é™æ€èµ„æºæ–‡ä»¶å¤¹
â”‚   â”œâ”€â”€ index.html         # HTML æ¨¡æ¿æ–‡ä»¶
â”‚   â”œâ”€â”€ favicon.ico        # ç½‘ç«™å›¾æ ‡
â”‚   â”œâ”€â”€ logo192.png        # PWA å›¾æ ‡ (192x192)
â”‚   â”œâ”€â”€ logo512.png        # PWA å›¾æ ‡ (512x512)
â”‚   â”œâ”€â”€ manifest.json      # PWA é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ robots.txt         # æœç´¢å¼•æ“çˆ¬è™«é…ç½®
â”‚
â”œâ”€â”€ src/                   # æºä»£ç æ–‡ä»¶å¤¹
â”‚   â”œâ”€â”€ App.tsx            # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ App.css            # ä¸»åº”ç”¨æ ·å¼
â”‚   â”œâ”€â”€ App.test.tsx       # ä¸»åº”ç”¨æµ‹è¯•æ–‡ä»¶
â”‚   â”œâ”€â”€ index.tsx          # åº”ç”¨å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ index.css          # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ logo.svg           # React Logo SVG æ–‡ä»¶
â”‚   â”œâ”€â”€ react-app-env.d.ts # TypeScript ç±»å‹å®šä¹‰
â”‚   â”œâ”€â”€ reportWebVitals.ts # æ€§èƒ½ç›‘æ§å·¥å…·
â”‚   â””â”€â”€ setupTests.ts      # æµ‹è¯•ç¯å¢ƒé…ç½®
â”‚
â”œâ”€â”€ package.json           # é¡¹ç›®ä¾èµ–å’Œè„šæœ¬é…ç½®
â”œâ”€â”€ package-lock.json      # ä¾èµ–é”å®šæ–‡ä»¶
â”œâ”€â”€ tsconfig.json          # TypeScript é…ç½®
â”œâ”€â”€ .gitignore            # Git å¿½ç•¥æ–‡ä»¶é…ç½®
â””â”€â”€ README.md             # é¡¹ç›®è¯´æ˜æ–‡æ¡£
```

## ğŸ”— æ–‡ä»¶è°ƒç”¨å…³ç³»

### 1. å¯åŠ¨æµç¨‹ï¼ˆä»å…¥å£åˆ°æ¸²æŸ“ï¼‰

```
index.html (public/)
    â†“
index.tsx (src/)
    â†“
App.tsx (src/)
```

#### è¯¦ç»†è°ƒç”¨é“¾ï¼š

**ç¬¬ä¸€å±‚ï¼šHTML æ¨¡æ¿**
- `public/index.html`
  - åŒ…å«ä¸€ä¸ª `<div id="root"></div>` ä½œä¸º React åº”ç”¨çš„æŒ‚è½½ç‚¹
  - å¼•ç”¨ `manifest.json` å’Œå›¾æ ‡æ–‡ä»¶
  - åœ¨æ„å»ºæ—¶ï¼Œæ‰“åŒ…åçš„ JavaScript æ–‡ä»¶ä¼šè‡ªåŠ¨æ³¨å…¥åˆ°æ­¤ HTML ä¸­

**ç¬¬äºŒå±‚ï¼šåº”ç”¨å…¥å£**
- `src/index.tsx`
  - å¯¼å…¥ React å’Œ ReactDOM
  - å¯¼å…¥å…¨å±€æ ·å¼ `index.css`
  - å¯¼å…¥ä¸»ç»„ä»¶ `App`
  - å¯¼å…¥æ€§èƒ½ç›‘æ§å·¥å…· `reportWebVitals`
  - ä½¿ç”¨ `ReactDOM.createRoot()` åˆ›å»º React 18 çš„å¹¶å‘æ¸²æŸ“æ ¹èŠ‚ç‚¹
  - å°† `<App />` ç»„ä»¶æ¸²æŸ“åˆ° `root` DOM èŠ‚ç‚¹

**ç¬¬ä¸‰å±‚ï¼šä¸»åº”ç”¨ç»„ä»¶**
- `src/App.tsx`
  - å¯¼å…¥ React
  - å¯¼å…¥ logo SVG å›¾ç‰‡
  - å¯¼å…¥ç»„ä»¶æ ·å¼ `App.css`
  - å®šä¹‰å¹¶å¯¼å‡º `App` å‡½æ•°ç»„ä»¶
  - è¿”å›åº”ç”¨çš„ä¸»ç•Œé¢ç»“æ„ï¼ˆJSXï¼‰

### 2. æ ·å¼æ–‡ä»¶è°ƒç”¨å…³ç³»

```
index.tsx â†’ index.css (å…¨å±€æ ·å¼)
    â†“
App.tsx â†’ App.css (ç»„ä»¶æ ·å¼)
```

- **index.css**: å®šä¹‰å…¨å±€æ ·å¼ï¼Œå¦‚ body å’Œ code æ ‡ç­¾çš„å­—ä½“è®¾ç½®
- **App.css**: å®šä¹‰ App ç»„ä»¶ä¸“å±æ ·å¼ï¼ŒåŒ…æ‹¬å¸ƒå±€ã€åŠ¨ç”»ç­‰

### 3. ç±»å‹ç³»ç»Ÿ

```
tsconfig.json (TypeScript é…ç½®)
    â†“
react-app-env.d.ts (ç±»å‹å®šä¹‰å¼•ç”¨)
    â†“
æ‰€æœ‰ .tsx å’Œ .ts æ–‡ä»¶
```

### 4. æµ‹è¯•æ¡†æ¶

```
setupTests.ts (æµ‹è¯•é…ç½®)
    â†“
App.test.tsx (ç»„ä»¶æµ‹è¯•)
```

### 5. æ€§èƒ½ç›‘æ§

```
index.tsx â†’ reportWebVitals.ts
    â†“
Web Vitals åº“ (åŠ¨æ€å¯¼å…¥)
```

## ğŸŒ ç½‘ç«™å½¢æˆè¿‡ç¨‹

### å¼€å‘æ¨¡å¼æµç¨‹ (`npm start`)

1. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
   ```
   è¿è¡Œå‘½ä»¤ï¼šnpm start
   â†“
   react-scripts å¯åŠ¨ Webpack å¼€å‘æœåŠ¡å™¨
   â†“
   ç›‘å¬ç«¯å£ï¼šhttp://localhost:3000
   ```

2. **æ„å»ºå’Œç¼–è¯‘**
   ```
   TypeScript ç¼–è¯‘
   â†“
   Webpack æ‰“åŒ…æ‰€æœ‰æ¨¡å—
   - å¤„ç† .tsx æ–‡ä»¶ (TypeScript + JSX)
   - å¤„ç† .css æ–‡ä»¶ (æ ·å¼æ³¨å…¥)
   - å¤„ç† .svg æ–‡ä»¶ (å›¾ç‰‡èµ„æº)
   â†“
   ç”Ÿæˆä¸´æ—¶æ„å»ºæ–‡ä»¶
   ```

3. **é¡µé¢æ¸²æŸ“æµç¨‹**
   ```
   æµè§ˆå™¨è¯·æ±‚ http://localhost:3000
   â†“
   æœåŠ¡å™¨è¿”å› public/index.html
   â†“
   æµè§ˆå™¨è§£æ HTML
   â†“
   åŠ è½½æ‰“åŒ…åçš„ JavaScript æ–‡ä»¶ (bundle.js)
   â†“
   æ‰§è¡Œ src/index.tsx
   â†“
   ReactDOM.createRoot() åˆ›å»ºæ¸²æŸ“æ ¹èŠ‚ç‚¹
   â†“
   æŸ¥æ‰¾ DOM ä¸­ id="root" çš„å…ƒç´ 
   â†“
   æ¸²æŸ“ <App /> ç»„ä»¶
   â†“
   App ç»„ä»¶è¿”å› JSX ç»“æ„
   â†“
   React å°†è™šæ‹Ÿ DOM è½¬æ¢ä¸ºçœŸå® DOM
   â†“
   é¡µé¢å®Œæˆæ¸²æŸ“ï¼Œç”¨æˆ·å¯è§ç•Œé¢
   ```

4. **çƒ­æ¨¡å—æ›¿æ¢ (HMR)**
   ```
   å¼€å‘è€…ä¿®æ”¹æºä»£ç 
   â†“
   Webpack æ£€æµ‹æ–‡ä»¶å˜åŒ–
   â†“
   é‡æ–°ç¼–è¯‘ä¿®æ”¹çš„æ¨¡å—
   â†“
   é€šè¿‡ WebSocket æ¨é€æ›´æ–°åˆ°æµè§ˆå™¨
   â†“
   æµè§ˆå™¨æ— éœ€åˆ·æ–°å³å¯æ›´æ–°é¡µé¢
   ```

### ç”Ÿäº§æ„å»ºæµç¨‹ (`npm run build`)

1. **æ„å»ºå‘½ä»¤æ‰§è¡Œ**
   ```
   è¿è¡Œå‘½ä»¤ï¼šnpm run build
   â†“
   react-scripts æ‰§è¡Œç”Ÿäº§æ„å»º
   ```

2. **ä¼˜åŒ–å’Œæ‰“åŒ…**
   ```
   TypeScript ç¼–è¯‘
   â†“
   Webpack ç”Ÿäº§æ¨¡å¼æ‰“åŒ…
   - ä»£ç å‹ç¼© (Minification)
   - Tree Shaking (ç§»é™¤æœªä½¿ç”¨ä»£ç )
   - ä»£ç åˆ†å‰² (Code Splitting)
   - èµ„æºä¼˜åŒ– (å›¾ç‰‡ã€CSS)
   â†“
   ç”Ÿæˆå“ˆå¸Œæ–‡ä»¶å (ç¼“å­˜ä¼˜åŒ–)
   ```

3. **è¾“å‡ºç›®å½•ç»“æ„**
   ```
   build/
   â”œâ”€â”€ static/
   â”‚   â”œâ”€â”€ css/
   â”‚   â”‚   â””â”€â”€ main.[hash].css
   â”‚   â”œâ”€â”€ js/
   â”‚   â”‚   â”œâ”€â”€ main.[hash].js
   â”‚   â”‚   â””â”€â”€ [chunk].[hash].js
   â”‚   â””â”€â”€ media/
   â”‚       â””â”€â”€ logo.[hash].svg
   â”œâ”€â”€ index.html
   â”œâ”€â”€ manifest.json
   â””â”€â”€ ...
   ```

4. **éƒ¨ç½²å’Œè¿è¡Œ**
   ```
   å°† build/ ç›®å½•éƒ¨ç½²åˆ° Web æœåŠ¡å™¨
   â†“
   ç”¨æˆ·è®¿é—®ç½‘ç«™ URL
   â†“
   æœåŠ¡å™¨è¿”å› index.html
   â†“
   æµè§ˆå™¨åŠ è½½é™æ€èµ„æº
   â†“
   React åº”ç”¨å¯åŠ¨å¹¶æ¸²æŸ“
   ```

## ğŸ“¦ æ ¸å¿ƒä¾èµ–è¯´æ˜

### React æ ¸å¿ƒåº“
- **react** (^19.2.0): React æ ¸å¿ƒåº“
- **react-dom** (^19.2.0): React DOM æ¸²æŸ“å™¨
- **react-scripts** (5.0.1): Create React App çš„æ„å»ºè„šæœ¬

### TypeScript æ”¯æŒ
- **typescript** (^4.9.5): TypeScript ç¼–è¯‘å™¨
- **@types/react**: React ç±»å‹å®šä¹‰
- **@types/react-dom**: React DOM ç±»å‹å®šä¹‰
- **@types/node**: Node.js ç±»å‹å®šä¹‰
- **@types/jest**: Jest æµ‹è¯•ç±»å‹å®šä¹‰

### æµ‹è¯•å·¥å…·
- **@testing-library/react**: React ç»„ä»¶æµ‹è¯•åº“
- **@testing-library/jest-dom**: DOM æ–­è¨€æ‰©å±•
- **@testing-library/user-event**: ç”¨æˆ·äº¤äº’æ¨¡æ‹Ÿ

### æ€§èƒ½ç›‘æ§
- **web-vitals**: Web æ€§èƒ½æŒ‡æ ‡æ”¶é›†

## ğŸ”§ é…ç½®æ–‡ä»¶è¯´æ˜

### tsconfig.json
TypeScript ç¼–è¯‘å™¨é…ç½®ï¼š
- **target**: ç¼–è¯‘ç›®æ ‡ä¸º ES5
- **lib**: åŒ…å« DOM å’Œ ESNext API
- **jsx**: ä½¿ç”¨ react-jsx æ¨¡å¼ï¼ˆReact 17+ æ–° JSX è½¬æ¢ï¼‰
- **strict**: å¯ç”¨ä¸¥æ ¼ç±»å‹æ£€æŸ¥
- **moduleResolution**: ä½¿ç”¨ Node.js æ¨¡å—è§£æç­–ç•¥

### package.json
é¡¹ç›®é…ç½®å’Œè„šæœ¬ï¼š
- **scripts.start**: å¯åŠ¨å¼€å‘æœåŠ¡å™¨
- **scripts.build**: åˆ›å»ºç”Ÿäº§æ„å»º
- **scripts.test**: è¿è¡Œæµ‹è¯•
- **scripts.eject**: å¼¹å‡ºé…ç½®ï¼ˆä¸å¯é€†ï¼‰

### manifest.json
PWA (Progressive Web App) é…ç½®ï¼š
- å®šä¹‰åº”ç”¨åç§°å’Œå›¾æ ‡
- é…ç½®å¯åŠ¨æ–¹å¼å’Œä¸»é¢˜é¢œè‰²
- ä½¿åº”ç”¨å¯ä»¥å®‰è£…åˆ°è®¾å¤‡ä¸»å±å¹•

## ğŸ¯ React 18 å…³é”®ç‰¹æ€§

### å¹¶å‘æ¸²æŸ“
```typescript
const root = ReactDOM.createRoot(
  document.getElementById('root') as HTMLElement
);
```
ä½¿ç”¨ `createRoot` è€Œä¸æ˜¯ä¼ ç»Ÿçš„ `render`ï¼Œæ”¯æŒ React 18 çš„å¹¶å‘ç‰¹æ€§ã€‚

### ä¸¥æ ¼æ¨¡å¼
```typescript
<React.StrictMode>
  <App />
</React.StrictMode>
```
å¼€å‘æ¨¡å¼ä¸‹åŒé‡è°ƒç”¨ç»„ä»¶ï¼Œå¸®åŠ©å‘ç°æ½œåœ¨é—®é¢˜ã€‚

## ğŸ“ æ‰©å±•å»ºè®®

é’ˆå¯¹åŒºå—é“¾å½©ç¥¨é¡¹ç›®ï¼Œå¯èƒ½éœ€è¦æ·»åŠ çš„æ–‡ä»¶å’Œç»“æ„ï¼š

```
src/
â”œâ”€â”€ components/          # å¯å¤ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ Navbar/         # å¯¼èˆªæ 
â”‚   â”œâ”€â”€ BettingCard/    # æŠ•æ³¨å¡ç‰‡
â”‚   â””â”€â”€ ...
â”œâ”€â”€ pages/              # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ HomePage/       # é¦–é¡µ
â”‚   â”œâ”€â”€ BettingPage/    # æŠ•æ³¨é¡µé¢
â”‚   â””â”€â”€ ...
â”œâ”€â”€ hooks/              # è‡ªå®šä¹‰ React Hooks
â”‚   â”œâ”€â”€ useContract/    # åˆçº¦äº¤äº’
â”‚   â””â”€â”€ useWallet/      # é’±åŒ…è¿æ¥
â”œâ”€â”€ utils/              # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ web3.ts         # Web3 é…ç½®
â”‚   â””â”€â”€ contracts.ts    # åˆçº¦åœ°å€å’Œ ABI
â”œâ”€â”€ types/              # TypeScript ç±»å‹å®šä¹‰
â””â”€â”€ constants/          # å¸¸é‡é…ç½®
```

## ğŸš€ è¿è¡Œå’Œæ„å»ºå‘½ä»¤

```bash
# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨ (http://localhost:3000)
npm start

# è¿è¡Œæµ‹è¯•
npm test

# åˆ›å»ºç”Ÿäº§æ„å»º
npm run build

# ç±»å‹æ£€æŸ¥
npx tsc --noEmit
```

## ğŸ“Š æ•°æ®æµæ¦‚è¿°

```
ç”¨æˆ·æ“ä½œ
    â†“
React ç»„ä»¶äº‹ä»¶å¤„ç†
    â†“
çŠ¶æ€æ›´æ–° (useState/useReducer)
    â†“
ç»„ä»¶é‡æ–°æ¸²æŸ“
    â†“
è™šæ‹Ÿ DOM Diff
    â†“
æ›´æ–°çœŸå® DOM
    â†“
é¡µé¢è§†å›¾æ›´æ–°
```

å¯¹äºåŒºå—é“¾äº¤äº’ï¼š
```
ç”¨æˆ·æ“ä½œ
    â†“
è°ƒç”¨ Web3/Ethers.js
    â†“
è¿æ¥ MetaMask
    â†“
å‘é€äº¤æ˜“åˆ°æ™ºèƒ½åˆçº¦
    â†“
ç­‰å¾…äº¤æ˜“ç¡®è®¤
    â†“
æ›´æ–°å‰ç«¯çŠ¶æ€
    â†“
åˆ·æ–° UI æ˜¾ç¤º
```

---

**æ€»ç»“**: è¿™æ˜¯ä¸€ä¸ªåŸºäº Create React App å’Œ TypeScript çš„ç°ä»£åŒ– React å•é¡µåº”ç”¨ï¼ˆSPAï¼‰æ¶æ„ã€‚å®ƒé‡‡ç”¨ç»„ä»¶åŒ–è®¾è®¡ï¼Œé€šè¿‡ React çš„è™šæ‹Ÿ DOM æœºåˆ¶å®ç°é«˜æ•ˆçš„é¡µé¢æ¸²æŸ“å’Œæ›´æ–°ã€‚æ•´ä¸ªåº”ç”¨ä» `index.html` å¼€å§‹ï¼Œç»è¿‡ `index.tsx` å…¥å£æ–‡ä»¶ï¼Œæœ€ç»ˆæ¸²æŸ“ `App.tsx` ä¸»ç»„ä»¶ï¼Œå½¢æˆå®Œæ•´çš„ Web åº”ç”¨ã€‚
